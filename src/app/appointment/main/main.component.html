<div *ngIf="!pageLoading" class="container">
  <div *ngIf="!joinClicked" class="container p-5">
    <div class="row mt-5 d-flex flex-row justify-content-center">
      <button class="btn btn-primary" (click)="startMeeting()">
        Join the Call
      </button>
    </div>
  </div>
  <div *ngIf="joinClicked" class="container">
    <div [id]="localCallId" class="local"></div>
    <div *ngFor="let callId of remoteCalls" [id]="callId" class="remote"></div>
    <div class="col-lg-12 col-md-12 col-sm-12 actions mb-5">
        <div class="row d-flex justify-content-center">
            <a class="btn btn-secondary text-white mr-2 p-2" (click)="endCallClick(endCallTemplate)"><fa-icon [icon]="faPhoneSlash"></fa-icon> End call</a>
            <a class="btn border mr-2 p-2" [ngClass]="microToggle ? 'btn-danger' : ''" (click)="mircoClick()"><fa-icon [icon]="faMicrophoneSlash"></fa-icon></a>
            <a class="btn border mr-2 p-2" [ngClass]="videoToggle ? 'btn-danger' : ''"(click)="videoClick()"><fa-icon [icon]="faVideoSlash"></fa-icon></a>
        </div>
    </div>
  </div>

  <ng-template #endCallTemplate>
    <div class="modal-body text-center">
      <p>Do you want to confirm?</p>
      <button type="button" class="btn btn-default" (click)="confirmEndCall()" >Yes</button>
      <button type="button" class="btn btn-primary" (click)="declineEndCall()" >No</button>
    </div>
  </ng-template>
</div>
<div *ngIf="pageLoading">
  <div class="sk-cube-grid">
    <div class="sk-cube sk-cube1"></div>
    <div class="sk-cube sk-cube2"></div>
    <div class="sk-cube sk-cube3"></div>
    <div class="sk-cube sk-cube4"></div>
    <div class="sk-cube sk-cube5"></div>
    <div class="sk-cube sk-cube6"></div>
    <div class="sk-cube sk-cube7"></div>
    <div class="sk-cube sk-cube8"></div>
    <div class="sk-cube sk-cube9"></div>
    <div class="text-primary font-weight-bold">LOADING</div>
  </div>
</div>
